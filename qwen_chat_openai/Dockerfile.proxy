# Dockerfile for OpenAI proxy on Render (Free Web Service)

FROM dart:stable AS build
WORKDIR /app
# Copy only what we need to compile the standalone Dart server
COPY tools/openai_proxy.dart tools/openai_proxy.dart
RUN mkdir -p /app/bin && dart compile exe tools/openai_proxy.dart -o /app/bin/proxy

FROM debian:bookworm-slim
RUN apt-get update && apt-get install -y ca-certificates && rm -rf /var/lib/apt/lists/*
COPY --from=build /app/bin/proxy /usr/local/bin/proxy
ENV PORT=8080
EXPOSE 8080
CMD ["proxy"]


